{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- The above 4 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <title>GHOSTOWNSTORE</title>

    <link rel="icon" href="{% static 'img/core-img/favicon.ico' %}">
    
    <!-- Core Style CSS -->
    <link rel="stylesheet" href="{% static 'css/core-style.css' %}">
    <link rel="stylesheet" href="{% static 'style.css' %}">

</head>
<body>

    <!-- HEADER PARTIALS HERE -> -->
    {% include 'partials/_header.html' %}    

    <!-- MAIN CONTENT -->
    {% block content %}
    {% endblock %}

    <!-- FOOTER PARTIALS HERE -> -->
    {% include 'partials/_footer.html' %}
    
    <!-- jQuery (Necessary for All JavaScript Plugins) -->
    <script src="{% static 'js/jquery/jquery-2.2.4.min.js' %}"></script>
    <!-- Popper js -->
    <script src="{% static 'js/popper.min.js' %}"></script>
    <!-- Bootstrap js -->
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <!-- Plugins js -->
    <script src="{% static 'js/plugins.js' %}"></script>
    <!-- Classy Nav js -->
    <script src="{% static 'js/classy-nav.min.js' %}"></script>
    <!-- Active js -->
    <script src="{% static 'js/active.js' %}"></script>

    <script>
    $(".addtocart").click(function () {
      var product_id = $(this).attr("id")
      console.log(product_id)

      $.ajax({
        url: 'ajax/add_to_cart',
        data: {
          'product_id': product_id
        },
        dataType: 'json',
        success: function (data) {
          if (data.is_taken) {
            alert("A user with this username already exists.");
          }
        }
      });
    });
  </script>

    {% block javascript %}
    {% endblock %}
    
</body>
</html>